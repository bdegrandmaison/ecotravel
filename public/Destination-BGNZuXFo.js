import{au as e,aD as s}from"./index-C2d7POa4.js";import{u as p,a as j}from"./axios-BSkyGmGo.js";import{u as h,f as o,a as f,b as d,d as D}from"./App-IUJ1lKty.js";import{F as i,C as g,I as y,B as b,D as P}from"./index-ltpqFnfH.js";import{S as v,C as I}from"./utils-C6SRMMpU.js";const F=async n=>{const{data:t}=await j.get(`/api/destinations/${n}`);return t},{RangePicker:w}=P,R=()=>{const[n]=i.useForm(),{id:t}=h(),{data:a,error:l,isLoading:m}=p({queryKey:["destination",t],queryFn:()=>t?F(t):Promise.reject(new Error("ID is undefined")),enabled:!!t});if(m)return e.jsx(v,{size:"large"});if(l)return e.jsx("div",{children:"Erreur lors du chargement de la destination"});if(a){const u=r=>(console.log(r),r<s(a.startDate)||r>s(a.endDate));return e.jsx("div",{children:e.jsxs(I,{title:a.name,cover:e.jsxs(g,{autoplay:!0,arrows:!0,adaptiveHeight:!0,children:[e.jsx("div",{children:e.jsx("img",{loading:"eager",alt:a.image.altText,src:`${o()}${a.image.src}`,style:c})},0),a.additionalImages.map((r,x)=>e.jsx("div",{children:e.jsx("img",{loading:"eager",src:`${o()}${r.src}`,alt:r.altText,style:c})},x+1))]}),children:[e.jsx("p",{children:a.description}),e.jsxs("p",{children:[e.jsx("b",{children:"Location:"})," ",a.location]}),e.jsxs("p",{children:[e.jsx("b",{children:"Price:"})," ",f(a.price)," par jour"]}),e.jsxs("p",{children:[e.jsx("b",{children:"Dates:"})," Du ",d(a.startDate)," au"," ",d(a.endDate)]}),e.jsxs("p",{children:[e.jsx("b",{children:"Participants:"})," ",a.currentParticipants,"/",a.maxParticipants]}),e.jsxs("p",{children:[e.jsx("b",{children:"Pourquoi agir:"})," ",a.summary.why]}),e.jsxs("p",{children:[e.jsx("b",{children:"Ce que vous ferez:"})," ",a.summary.action]}),e.jsxs(i,{form:n,name:"customized_form_controls",layout:"vertical",children:[e.jsx(i.Item,{name:"dates",label:"Entrez une plage de dates: ",children:e.jsx(w,{disabledDate:u,format:D,placement:"bottomLeft",defaultPickerValue:[s(a.startDate),s(a.endDate)],minDate:s(a.startDate),maxDate:s(a.endDate)})}),e.jsx(i.Item,{name:"travellers",label:"Nombre de voyageurs: ",children:e.jsx(y,{type:"number",min:1,max:a.maxParticipants-a.currentParticipants,defaultValue:1})}),e.jsx(i.Item,{children:e.jsx(b,{type:"primary",htmlType:"submit",children:"RÃ©server"})})]})]})})}},c={width:"100%",height:"500px",objectFit:"cover"};export{R as default};
